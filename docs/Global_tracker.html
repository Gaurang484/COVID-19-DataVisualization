<!DOCTYPE html>
<html>
<body>

<h2>COVID-19 Tracker</h2>
<br>
<br>
<button onclick="window.location.href = 'India_tracker.html';">Go to Indian Tracker</button>
<br>
<br>
<div id ="table"></div>
<br>
<br>
<div id ="selection"></div>
<br>
<br>
Insert prediction explanation<br>
Authors and links
<script >
	var summary;
	fetch('https://raw.githubusercontent.com/coder-amey/COVID-19-DataVisualization/master/data/Global_summary.json')
		.then(function(response) {
			return response.text().then(function(text) {
				summary = JSON.parse(text);
				tabulate(summary)
			});
		});

	function tabulate(summary) {
<<<<<<< HEAD
		var table = "Last updated: " + summary["update_time"] + ".<br>\n"
		table += "<h3>GLOBAL</h3>\n"
		table += "<table border='1' cellspacing='1' cellpadding='1' class='table table-striped'>\n";
		table += "<thead style='font-weight:bold'>\n";
=======
		var table = "<h3>INDIA - Regional</h3><br>\n"
		table += "Last updated: " + summary["update_time"] + "<br>\n"
		table += "<table border='1' cellspacing='1' cellpadding='1' class='table table-striped' style='font-weight:bold'>\n";
		table += "<thead>\n";
>>>>>>> 948a04b7807c770c6606b40519780810640b1381
		table += "<tr><th rowspan='2'>Region</th><th rowspan='2'>Confirmed</th><th rowspan='2'>Recovered/<br>Migrated</th><th rowspan='2'>Deceased</th><th colspan='2'>Prediction<br>(for T + 1 Day)</th></tr>\n";
		table += "<tr><th>Confirmed</th><th>Deceased</th></tr>\n";
		table += "</thead>\n";
		table += "<tbody>\n";
		for (var i =  0; i < 20; i++) {
			var row = summary["data"][i];
			table += "<tr><td>" + summary["index"][i] + "</td><td>" + row[0] + " &#8679 " + row[1] + "</td></td>";
			table += "<td>" + row[2] + " &#8679 " + row[3] + "</td><td>" + row[4] + " &#8679 " + row[5] + "</td>";
			table += "<td>" + row[6] + "</td><td>" + row[7] + "</td></tr>\n";
		}
		table += "</tbody></table>\n";

		table += "<br><br>\n";
		table += "<select id = 'country'>\n";
		for(var i in summary["index"]) {
			table += "<option value = '" + i + "'>" + summary["index"][i] + "</option>\n";	
		}
		table += "</select>";
		table += "<button onclick = 'fetch_row(summary)'>Fetch Details</button>"

		document.getElementById("table").innerHTML = table;
	}

	function fetch_row(summary) {
		var i = document.getElementById('country').selectedIndex;
		var row = summary["data"][i]
		var entry = "<table border='1' cellspacing='1' cellpadding='1' class='table table-striped' style='font-weight:bold'>\n";
		entry += "<thead>\n";
		entry += "<tr><th rowspan='2'>Region</th><th rowspan='2'>Confirmed</th><th rowspan='2'>Recovered/<br>Migrated</th><th rowspan='2'>Deceased</th><th colspan='2'>Prediction<br>(for T + 1 Day)</th></tr>\n";
		entry += "<tr><th>Confirmed</th><th>Deceased</th></tr>\n";
		entry += "</thead>\n";
		entry += "<tbody>\n";
		entry += "<tr><td>" + summary["index"][i] + "</td><td>" + row[0] + " &#8679 " + row[1] + "</td></td>";
		entry += "<td>" + row[2] + " &#8679 " + row[3] + "</td><td>" + row[4] + " &#8679 " + row[5] + "</td>";
		entry += "<td>" + row[6] + "</td><td>" + row[7] + "</td></tr>\n";
		entry += "</tbody></table>\n";

		document.getElementById("selection").innerHTML = entry;
	}
	
</script>
</body>
</html>